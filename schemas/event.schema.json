{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "schemas/event.schema.json",
  "title": "Event",
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "seq": {
      "type": "integer"
    },
    "run_id": {
      "type": "string"
    },
    "ts": {
      "type": "integer"
    },
    "type": {
      "type": "string",
      "enum": [
        "approval_approved",
        "approval_rejected",
        "approval_resolved",
        "approval_requested",
        "artifact_created",
        "autopilot_action",
        "autopilot_state",
        "chat_response_generated",
        "clarify_requested",
        "conflict_detected",
        "fact_extracted",
        "intent_decided",
        "llm_provider_used",
        "llm_budget_exceeded",
        "llm_request_failed",
        "llm_request_started",
        "llm_request_succeeded",
        "llm_request_sanitized",
        "llm_route_decided",
        "memory_deleted",
        "memory_list_viewed",
        "memory_save_requested",
        "memory_saved",
        "micro_action_executed",
        "micro_action_proposed",
        "observation_captured",
        "ocr_cached_hit",
        "ocr_performed",
        "plan_created",
        "run_canceled",
        "run_created",
        "run_done",
        "run_failed",
        "run_paused",
        "run_resumed",
    "run_started",
    "reminder_cancelled",
    "reminder_created",
    "reminder_due",
    "reminder_failed",
    "reminder_sent",
    "source_fetched",
        "source_found",
        "step_cancelled_by_user",
        "step_execution_finished",
        "step_execution_started",
        "step_paused_for_approval",
        "step_planned",
        "step_retrying",
        "step_waiting",
        "task_done",
        "task_failed",
        "task_progress",
        "task_queued",
        "task_retried",
        "task_started",
        "user_action_required",
        "verification_done",
        "verification_result"
      ]
    },
    "level": {
      "type": "string",
      "enum": [
        "info",
        "warn",
        "error"
      ]
    },
    "message": {
      "type": "string"
    },
    "payload": {
      "type": [
        "object",
        "null"
      ]
    },
    "task_id": {
      "type": [
        "string",
        "null"
      ]
    },
    "step_id": {
      "type": [
        "string",
        "null"
      ]
    }
  },
  "required": [
    "id",
    "run_id",
    "ts",
    "type",
    "level",
    "message",
    "payload"
  ],
  "additionalProperties": false
}
